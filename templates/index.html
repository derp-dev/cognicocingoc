<!DOCTYPE html>
<html>

<head>
    <title>mdjourney</title>
    <style>
        #editor {
            width: 100%;
            height: 400px;
            border: 1px solid #ccc;
            padding: 10px;
            font-family: Arial, sans-serif;
            font-size: 14px;
        }

        #save-btn,
        #run-btn {
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <textarea id="editor" placeholder="Enter your markdown content"></textarea>
    <button id="save-btn" onclick="saveContent()">Save</button>
    <button id="run-btn" onclick="runContent()" disabled>Run</button>

    <script>
        // Function to save markdown content
        function saveContent() {
            var content = document.getElementById('editor').value;
            var request = new XMLHttpRequest();
            request.open('POST', '/save', true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
            request.send('content=' + encodeURIComponent(content));

            request.onload = function () {
                if (request.status >= 200 && request.status < 400) {
                    alert(request.responseText);
                } else {
                    alert('Error saving content');
                }
            };
        }

        // Function to run markdown content (future feature)
        function runContent() {
            var content = document.getElementById('editor').value;
            var request = new XMLHttpRequest();
            request.open('POST', '/run', true);
            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
            request.send('content=' + encodeURIComponent(content));

            request.onload = function () {
                if (request.status >= 200 && request.status < 400) {
                    alert(request.responseText);
                } else {
                    alert('Error running content');
                }
            };
        }
    </script>
</body>

</html>